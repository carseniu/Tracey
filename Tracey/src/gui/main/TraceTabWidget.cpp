#include "src/gui/main/TraceTabWidget.h"



//===================================================================================================================================================================================================//
// PUBLIC
//===================================================================================================================================================================================================//

//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
TraceTabWidget::TraceTabWidget(QWidget* parent) :
  TabWidget(parent)
{
}

//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
int TraceTabWidget::getNewTabNumber(const QString& name) const
{
  int result = 1;

  for (int i = 0; i < getCount(); ++i)
  {
    QString tabName = getTabText(i);

    if (tabName.startsWith(name))
    {
      QString suffix = tabName.mid(name.size());

      bool ok = false;
      int number = suffix.toInt(&ok);

      if (ok && number + 1 > result)
      {
        result = number + 1;
      }
    }
  }

  return result;
}
