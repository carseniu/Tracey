#include "src/gui\widgets/helpbrowser/HelpBrowser.h"

#include <QDebug>
#include <QHelpEngine>


//===================================================================================================================================================================================================//
// PUBLIC
//===================================================================================================================================================================================================//

//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
HelpBrowser::HelpBrowser(QHelpEngine* helpEngine, QWidget* parent) :
  QTextBrowser(parent),
  helpEngine(helpEngine)
{
  setOpenExternalLinks(true);
}

//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
QVariant HelpBrowser::loadResource(int type, const QUrl& url) {
  if (url.scheme() == "qthelp")
  {
    return QVariant(helpEngine->fileData(url));
  }
  else
  {
    return QTextBrowser::loadResource(type, url);
  }
}