
#include "TableHeader.h"

#include "Table.h"

#include <QPainter>


//===================================================================================================================================================================================================//
// PUBLIC
//===================================================================================================================================================================================================//

//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
TableHeader::TableHeader(Qt::Orientation orientation, Table* table) :
  QHeaderView(orientation, table),
  table(table)
{
}


//===================================================================================================================================================================================================//
// PROTECTED
//===================================================================================================================================================================================================//

//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
void TableHeader::paintSection(QPainter* painter, const QRect& rect, int logicalIndex) const
{
  QRect bounds = rect;
  bounds.adjust(0, 0, 0, -1);

  painter->setPen("transparent");
  painter->setBrush(QColor("#d8dddf"));
  painter->drawRect(bounds);

  painter->setPen(QColor("#b8babd"));
  if (logicalIndex > 0)
  {
    painter->drawLine(rect.x(), rect.y(), rect.x(), rect.y() + rect.height() - 3);
  }

  painter->setPen(Qt::black);
  painter->drawText(rect, Qt::AlignCenter | Qt::AlignVCenter | Qt::TextSingleLine, table->horizontalHeaderItem(logicalIndex)->text());
}